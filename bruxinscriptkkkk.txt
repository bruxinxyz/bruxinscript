-- HazbinScript UI
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
OrionLib:MakeNotification({
    Name = "HazbinScript",
    Content = "HazbinScript Loaded",
    Image = "rbxassetid://4483345998",
    Time = 5
})
local Window = OrionLib:MakeWindow({Name = "HazbinScript", HidePremium = false, SaveConfig = true, ConfigFolder = "HazbinScript"})

-- Adicionando as opções na UI
local SettingsTab = Window:MakeTab({
    Name = "Settings",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local SettingsSection = SettingsTab:AddSection({
    Name = "Settings"
})

-- ESP Name (Nome dos Jogadores)
local espNameEnabled = false

SettingsSection:AddToggle({
    Name = "ESP Name",
    Default = espNameEnabled,
    Callback = function(enabled)
        espNameEnabled = enabled
    end
})

local function onPlayerAdded(player)
    if espNameEnabled and player.TeamColor ~= Players.LocalPlayer.TeamColor then
        local nameTag = Instance.new("BillboardGui")
        nameTag.Name = "NameTag"
        nameTag.Adornee = player.Character:FindFirstChild("Head")
        nameTag.Size = UDim2.new(0, 100, 0, 20)
        nameTag.StudsOffset = Vector3.new(0, 3, 0)
        nameTag.AlwaysOnTop = true
        nameTag.Parent = player.Character

        local nameLabel = Instance.new("TextLabel")
        nameLabel.Text = player.Name
        nameLabel.TextColor3 = Color3.new(0, 0, 1) -- Azul
        nameLabel.BackgroundTransparency = 1
        nameLabel.Size = UDim2.new(1, 0, 1, 0)
        nameLabel.Font = Enum.Font.SourceSansBold
        nameLabel.Parent = nameTag
    end
end

Players.PlayerAdded:Connect(onPlayerAdded)

-- ESP Box (Caixa de Visualização)
local espBoxEnabled = false

SettingsSection:AddToggle({
    Name = "ESP Box",
    Default = espBoxEnabled,
    Callback = function(enabled)
        espBoxEnabled = enabled
    end
})

local function createBox(player)
    if espBoxEnabled and player.TeamColor ~= LocalPlayer.TeamColor then
        local box = Instance.new("SelectionBox")
        box.Color3 = Color3.new(1, 0, 0) -- Vermelho
        box.LineThickness = 0.1
        box.Adornee = player.Character:FindFirstChild("HumanoidRootPart")
        box.Parent = player.Character
    end
end

Players.PlayerAdded:Connect(createBox)

-- Aimbot (Mira Automática)
local aimbotEnabled = false

SettingsSection:AddToggle({
    Name = "Aimbot",
    Default = aimbotEnabled,
    Callback = function(enabled)
        aimbotEnabled = enabled
    end
})

local function aimAtHead(player)
    if aimbotEnabled and player.TeamColor ~= LocalPlayer.TeamColor then
        local targetHead = player.Character:FindFirstChild("Head")
        if targetHead then
            LocalPlayer.Character:WaitForChild("HumanoidRootPart").CFrame = targetHead.CFrame
        end
    end
end

game:GetService("RunService").Heartbeat:Connect(function()
    for _, player in pairs(Players:GetPlayers()) do
        aimAtHead(player)
    end
end)

OrionLib:Init() -- UI Lib End
